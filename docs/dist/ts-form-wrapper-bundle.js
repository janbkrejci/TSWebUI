class s extends HTMLElement{static get observedAttributes(){return["definition","data"]}constructor(){super(),this.definition=null,this.data=null}connectedCallback(){this.render()}attributeChangedCallback(e,r,t){r!==t&&this.render()}getParsedAttribute(e){const r=this.getAttribute(e);if(!r)return null;try{return JSON.parse(r)}catch(t){return console.error(`Error parsing ${e} attribute:`,t),null}}render(){this.innerHTML="";const e=this.getParsedAttribute("definition"),r=this.getParsedAttribute("data");if(!e)return;const t=document.createElement("ts-form");e.layout&&t.setAttribute("layout",JSON.stringify(e.layout)),e.fields&&t.setAttribute("fields",JSON.stringify(e.fields)),e.buttons&&t.setAttribute("buttons",JSON.stringify(e.buttons)),e.errors&&t.setAttribute("errors",JSON.stringify(e.errors)),r&&t.setAttribute("values",JSON.stringify(r)),t.addEventListener("form-submit",i=>{this.dispatchEvent(new CustomEvent("form-submit",{detail:i.detail,bubbles:!0,composed:!0}))}),t.addEventListener("form-changed",i=>{const{formData:u}=i.detail;this.dispatchEvent(new CustomEvent("form-changed",{detail:i.detail,bubbles:!0,composed:!0}))}),this.appendChild(t),typeof t.run=="function"&&t.run()}}customElements.define("ts-form-wrapper",s);
