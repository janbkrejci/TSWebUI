<div class="sl-theme-{{theme}} base-container main-container">

    <script src="/table-data.js"></script>
    <script src="/column-definitions.js"></script>
    <script>
        // References to component
        var table = null;

        // Configuration
        const singleItemActions = 'edit/Upravit,duplicate/Duplikovat,delete/Smazat,view_details/Zobrazit detaily,export/Exportovat řádek';
        const multipleItemsActions = 'delete/Smazat vybrané,export/Exportovat vybrané';
        const preselectedColumns = ['name', 'email', 'turnover', 'contractDate', 'approved'];
        const unhideableColumns = ['name', 'email'];
        const unshowableColumns = ['id'];

        // Initialize component when DOM is ready
        function initializeComponents() {
            table = document.getElementById('table');

            // Setup event listeners
            setupEventListeners();

            // Configure table
            table.setData(tableData);
            table.setColumnDefinitions(columnDefinitions);
            table.setPreselectedColumns(preselectedColumns);
            table.setUnhideableColumns(unhideableColumns);
            table.setUnshowableColumns(unshowableColumns);
            table.setSingleItemActions(singleItemActions);
            table.setMultipleItemsActions(multipleItemsActions);
            table.initialize();
        }

        function setupEventListeners() {
            // Table events
            table.addEventListener('create-new-record', () => {
                console.log('Create new record');
            });

            table.addEventListener('selection-action-activated', (event) => {
                const { action, rows } = event.detail;
                console.log('Action:', action, 'for', rows.length, 'row(s):', rows);
            });

            table.addEventListener('do-import', (event) => {
                const { rows, file } = event.detail;
                console.log('Import completed:', rows.length, 'rows from file:', file.name);
            });
        }

        initializeComponents();
    </script>

    <div id="container">
        <ts-table id="table"></ts-table>
    </div>
</div>
